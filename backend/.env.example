# Server Configuration
PORT=3000
NODE_ENV=production

# Frontend URL for CORS
FRONTEND_URL=http://localhost:5173

# Authentication Configuration
# When set to 'true', requires authentication for:
# - Station management endpoints (GET /api/stations, GET /api/stations/:id, etc.)
# - Brigade access token management
# - Station lookup endpoint
# Public users will only see the demo station when REQUIRE_AUTH=true
# Set to 'false' or omit to allow open access (default for development)
# REQUIRE_AUTH=true

# JWT Configuration (required when REQUIRE_AUTH=true)
# Change these values in production!
# JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
# JWT_EXPIRY=24h

# Azure Table Storage Configuration
# For production, use Azure Table Storage connection string
# Required for persistent data storage and truck check photos
USE_TABLE_STORAGE=true
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-account;AccountKey=your-key;EndpointSuffix=core.windows.net

# To get your Azure Storage connection string:
# az storage account show-connection-string --name <your-storage-account-name> --resource-group <your-resource-group> --query "connectionString" --output tsv

# Optional: Custom container names (defaults: reference-photos, result-photos)
# AZURE_STORAGE_REFERENCE_CONTAINER=reference-photos
# AZURE_STORAGE_RESULT_CONTAINER=result-photos

# Rate Limiting Configuration
# Protects API endpoints from abuse and DDoS attacks
# RATE_LIMIT_WINDOW_MS=300000        # 5 minutes in milliseconds (default: 300000)
# RATE_LIMIT_API_MAX=84              # Max requests per window for API routes (default: ~84 -> ≈1,000/hour)
# RATE_LIMIT_AUTH_MAX=5              # Max requests per window for auth routes (default: 5)

# Event Auto-Expiry Configuration
# Events automatically become inactive after this many hours
EVENT_EXPIRY_HOURS=12                # Hours after event start time (default: 12)

# Azure Application Insights (Optional)
# For centralized logging and monitoring with 1-day retention
# Recommended for production deployments
# Get connection string from Azure Portal: Application Insights → Overview → Connection String
# To configure 1-day retention: Settings → Usage and estimated costs → Data Retention = 1 day
# AZURE_APP_INSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;IngestionEndpoint=https://xxx.applicationinsights.azure.com/

